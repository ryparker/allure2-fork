{"uuid":"2f42016b-d04c-445b-aac1-f2fc81866aa8","historyId":"4a501bdcc91dcc1481aad59d58256753","status":"broken","statusDetails":{"message":"TypeError","trace":"Cannot read property 'status' of undefined"},"stage":"finished","steps":[{"statusDetails":{},"stage":"running","steps":[],"attachments":[{"name":"request headers","type":"application/json","source":"5ba53eab-f323-486d-922a-5e5cba02891c-attachment.json"},{"name":"request body","type":"application/json","source":"cfab920e-19d9-4c9b-9735-2e6611fc2b03-attachment.json"}],"parameters":[{"name":"Active User","value":"None"},{"name":"method","value":"post"},{"name":"endpoint","value":"/gvl2/api/lead"}],"start":1595797255762,"name":"Request: post /gvl2/api/lead"}],"attachments":[],"parameters":[],"labels":[{"name":"thread","value":"1"},{"name":"parentSuite","value":"lead"},{"name":"package","value":"lead"},{"name":"suite","value":"additionalInfoSave"},{"name":"subSuite","value":"POST > functional.test.ts"}],"links":[],"start":1595797255739,"name":"adds additional info to a 'clinic' lead, when sent all of the supported properties.","fullName":"adds additional info to a 'clinic' lead, when sent all of the supported properties.","description":"\n### Test\n```typescript\nasync () => {\n  const type = \"clinic\";\n  const lead = await CRICKET_API.callApi({\n    endpoint: \"lead\",\n    method: \"POST\",\n    data: {\n      ...LEAD,\n      type,\n      complete: true,\n    },\n  }).then((r) => r.data);\n  const response = await CRICKET_API.callApi({\n    endpoint: \"lead/additionalInfoSave\",\n    method: \"POST\",\n    data: {\n      leadId: lead.id.toString(),\n      speciesList: [TEST_DATA_GENERATOR.species()],\n      vetCount: TEST_DATA_GENERATOR.number(),\n      eiaCount: TEST_DATA_GENERATOR.number(),\n      cviCount: TEST_DATA_GENERATOR.number(),\n      vfdCount: TEST_DATA_GENERATOR.number(),\n      scriptCount: TEST_DATA_GENERATOR.number(),\n      preferredLab: `${TEST_DATA_GENERATOR.companyName()} Lab`,\n      additionalInfo: TEST_DATA_GENERATOR.sentence(),\n    },\n  });\n\n  expect(response).toHaveStatusCode(200);\n  expect(response.duration).toHaveResponseTimeBelow(10);\n  expect(response.data).toStrictEqual(lead);\n  expect(response.data).toMatchSchema(\"response\");\n};\n\n```\n","stop":1595797255789}