{"uuid":"abb236af-ad4e-4282-b5dc-d9ed157ead7d","historyId":"ae65a402b1eaf85da939a61508498ad4","status":"broken","statusDetails":{"message":"TypeError","trace":"Cannot read property 'status' of undefined"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"labels":[{"name":"thread","value":"2"},{"name":"parentSuite","value":"templates"},{"name":"package","value":"templates"},{"name":"suite","value":"POST"},{"name":"subSuite","value":"functional.test.ts"}],"links":[],"start":1595797255700,"name":"creates new template, when sent all of the supported properties.","fullName":"creates new template, when sent all of the supported properties.","description":"\n### Test\n```typescript\nasync () => {\n  const fname1 = TEST_DATA_GENERATOR.firstName();\n  const lname1 = TEST_DATA_GENERATOR.lastName();\n  const mi1 = TEST_DATA_GENERATOR.firstName().charAt(0);\n  const fname2 = TEST_DATA_GENERATOR.firstName();\n  const lname2 = TEST_DATA_GENERATOR.lastName();\n  const mi2 = TEST_DATA_GENERATOR.firstName().charAt(0);\n  const template = {\n    name: `${TEST_DATA_GENERATOR.word()} ${TEST_DATA_GENERATOR.word()}`,\n    type: \"VFD\",\n    data: {\n      additionalEmail: TEST_DATA_GENERATOR.email(),\n      owner: {\n        firstName: fname1,\n        lastName: lname1,\n        mi: mi1,\n        name: `${fname1} ${lname1}`,\n        ownerEmail: TEST_DATA_GENERATOR.email(),\n        cellPhone: TEST_DATA_GENERATOR.phoneNumber(),\n        type: \"Person\",\n        mvlConnected: false,\n        version: 1,\n        id: null,\n      },\n      ownerPremises: {\n        addressLine1: TEST_DATA_GENERATOR.streetAddress(),\n        addressLine2: TEST_DATA_GENERATOR.secondaryAddress(),\n        city: TEST_DATA_GENERATOR.city(),\n        county: TEST_DATA_GENERATOR.county(),\n        country: \"USA\",\n        housesAnimals: true,\n        phone: TEST_DATA_GENERATOR.phoneNumber(),\n        fax: TEST_DATA_GENERATOR.phoneNumber(),\n        nationalId: \"PIN_1234\",\n        locationId: \"LID_1234\",\n        latitude: null,\n        longitude: null,\n        plus4: null,\n        postalCode: TEST_DATA_GENERATOR.zipCode(),\n        premisesName: \"IA_Address\",\n        state: TEST_DATA_GENERATOR.stateAbbr(),\n        version: 1,\n        id: null,\n      },\n      drug: global.TEST_DATA.DRUGS.VFD.name,\n      drug_id: global.TEST_DATA.DRUGS.VFD.id,\n      disallowDrugSub: false,\n      effectiveDate: TEST_DATA_GENERATOR.todayDate(),\n      expirationDate: TEST_DATA_GENERATOR.futureDate(),\n      feedMillEmail: TEST_DATA_GENERATOR.email(),\n      feedSites: [\n        {\n          firstName: fname2,\n          lastName: lname2,\n          mvlConnected: false,\n          premises: {\n            country: \"USA\",\n            city: TEST_DATA_GENERATOR.city(),\n            latitude: null,\n            plus4: null,\n            postalCode: TEST_DATA_GENERATOR.zipCode(),\n            county: TEST_DATA_GENERATOR.county(),\n            premisesName: \"IA_Address\",\n            version: 1,\n            nationalId: \"PIN_1234\",\n            phone: TEST_DATA_GENERATOR.phoneNumber(),\n            locationId: \"LID_1234\",\n            addressLine1: TEST_DATA_GENERATOR.streetAddress(),\n            addressLine2: TEST_DATA_GENERATOR.secondaryAddress(),\n            state: TEST_DATA_GENERATOR.stateAbbr(),\n            id: null,\n            fax: TEST_DATA_GENERATOR.phoneNumber(),\n            longitude: null,\n          },\n          name: `${fname2} ${lname2}`,\n          id: null,\n          mi: mi2,\n          type: \"Person\",\n          version: 1,\n          cellPhone: TEST_DATA_GENERATOR.phoneNumber(),\n          ownerEmail: TEST_DATA_GENERATOR.email(),\n        },\n      ],\n      groupName: \"SMOKE TEST\",\n      headCount: 1,\n      species: \"Bovine\",\n      minorSpecies: null,\n      justifyStatement: null,\n      productionClass: \"Growing Cattle (over 400 lbs.)\",\n      indication: \"For the reduction of the incidence of liver abscesses.\",\n      affirmStatement:\n        \"This VFD ONLY authorizes the use of the VFD drug(s) cited in this order and is NOT intended to authorize the use of such drug(s) in combination with any other animal drugs.\",\n      administrationInstructions: null,\n      comboDrugs: [],\n      type: \"VFD\",\n      shipments: [],\n      vet: {\n        id: global.TEST_DATA.VET_PERSON_ID,\n      },\n      concentration1: 1,\n      concentration1Days: 21,\n      specialInstructions1: null,\n      specialInstructions2: null,\n      specialInstructions3: null,\n    },\n  };\n  const response = await CRICKET_API.callApi({\n    endpoint: \"templates\",\n    method: \"POST\",\n    data: template,\n  });\n\n  expect(response).toHaveStatusCode(201);\n  expect(response.duration).toHaveResponseTimeBelow(10);\n  expect(response.data).toMatchObject({\n    ...template,\n  });\n  expect(response.data).toMatchSchema(\"response\");\n  TEMPLATE_ID = response.data.id;\n};\n\n```\n","stop":1595797255738}